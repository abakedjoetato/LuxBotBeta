Upgrade the botâ€™s submission and queue systems while keeping full backward compatibility. 
Add a new passive submission method and replace the current embed refresh system with 
an optimized, high-capacity, rate-limit-safe solution that automatically updates and displays 
hundreds of entries accurately. --- 
ï¿½
ï¿½
 Part 1: Hybrid Submission System 
Requirements: 
1. The existing submission command system must continue functioning exactly as before â€” 
no behavioral changes, no removed features, no regression. 
2. Add a new passive submission listener that allows users to submit songs directly by 
either: 
Uploading a valid audio file (.mp3 or .m4a) 
Pasting a valid music link (SoundCloud, Spotify, YouTube, Deezer, or Ditto Music) 
3. When a submission is made this way: 
The artist name is set to the userâ€™s Discord display name. 
The song title defaults to "Not Known". 
The submission is inserted into the same database, queue, and point system as a standard 
submission. 
4. After submission: 
The bot sends an ephemeral confirmation message: 
"
 âœ…
 Submission received and added to the queue!" 
Followed by: 
"
 ğŸ’¡
 Tip: Link your TikTok handle using /link-tiktok for added benefits and points tracking." 
5. Validation rules remain strict: 
Only accept .mp3 or .m4a files. 
Only accept links from recognized music sources: 
soundcloud.com, spotify.com, youtube.com, youtu.be, deezer.com, dittomusic.com 
Reject Apple Music, iTunes, and all unrecognized domains. 
Invalid submissions trigger an ephemeral rejection message: 
"
 âŒ
 Invalid file or unsupported link. Please use a .mp3/.m4a file or a recognized music 
platform link." 
6. Store the submission under the userâ€™s Discord ID, and if they have a linked TikTok handle, 
associate it automatically. 
7. If the user doesnâ€™t have a linked TikTok handle, include a follow-up message (ephemeral) 
explaining how to link it: "
 ğŸ”—
 You can link your TikTok handle anytime using /link-tiktok to 
earn points and track submissions." --- 
ï¿½
ï¿½
 Part 2: Advanced Embed System (Scalable, Persistent, Auto-Updating) 
Goal: 
Replace the existing embeds for queues and reviewer panels with a high-performance, 
auto-refreshing system capable of displaying hundreds of submissions without expiring or 
manually refreshing â€” while staying within Discordâ€™s rate limits. 
Requirements: 
1. Embed Persistence & Refresh 
All queue and reviewer embeds must: 
Never expire. 
Stay live and reflect all new submissions or updates automatically. 
Support up to hundreds of entries efficiently. 
Refresh automatically every few seconds without triggering Discord rate limits. 
Recommended interval: every 5â€“10 seconds, adjusted dynamically based on queue activity. 
2. Embed Type / Architecture 
Replace old embeds with message component views or modular paginated embeds using 
Discordâ€™s modern UI toolkit (discord.ui.View, persistent components, or equivalent depending 
on library). 
Use pagination controls that do not expire (timeout=None). 
The system should intelligently update only modified pages, minimizing API calls. 
3. Reviewer Panel 
Displays detailed per-song info including: 
Artist name 
Song title 
Source platform (with emoji indicator 
ï¿½
ï¿½
 
â–¶
 
ï¿½
ï¿½
 
ï¿½
ï¿½
 ) 
Points and their origin (
 ğŸ’¬
 comments, 
â¤
 likes, 
ï¿½
ï¿½
 coins, 
ï¿½
ï¿½
 shares) 
The reviewer panel should auto-refresh with live stats and not require manual reloads. 
4. Public Queue Embed 
Displays all active submissions in paginated form. 
Shows new entries as they arrive without manual refresh. 
Efficiently caches prior pages to avoid redundant API calls. 
5. Performance Optimization 
Implement an intelligent scheduler or background loop to manage refresh intervals. 
Batch updates to avoid frequent full-message edits. 
Use Discordâ€™s rate-limit headers to dynamically adjust refresh frequency. 
6. Fail-Safe & Restart Recovery 
Embeds and their view states must persist across bot restarts. 
Reinitialize active embeds from cached data or DB on startup. --- 
ï¿½
ï¿½
 Technical Implementation Guidance 
Use discord.py v2.4+ or a similar modern library supporting persistent views. 
For scalable updates: 
Consider message component caching and differential updating (edit only changed 
fields/pages). 
Maintain a refresh scheduler that groups embed updates (asyncio tasks or a background 
service). 
The update system should always respect Discordâ€™s global rate limit of 50 edits per second 
per bot. 
Use local or Redis-based caching for queue state to minimize DB hits per refresh. 
Persist queue messages with their Discord message IDs for accurate editing rather than 
deletion/reposting. --- 
âœ…
 End Result 
Users can now submit songs effortlessly via upload or link, with immediate ephemeral 
confirmation and instructions. 
The old system remains untouched and fully functional. 
The queues and reviewer panels are self-updating, unbreakable, and scalable â€” capable of 
handling hundreds of live submissions without lag, manual refreshes, or expired embeds.